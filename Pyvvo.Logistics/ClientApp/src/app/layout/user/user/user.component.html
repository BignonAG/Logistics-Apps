<ng-container *ngIf="users">
  <div class="container-fluid">
    <!--*** row ***-->
    <div class="row page-title">
      <div class="col-lg-10 col-md-10 col-sm-12">
        <h5>Users</h5>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-12">
        <a [routerLink]="['/app/user/create']" nbButton ghost status="primary" class="float-right">
          <nb-icon icon="plus"></nb-icon>
        </a>
      </div>
    </div>
    <!--*** row ***-->
    <nb-card [nbSpinner]="loading" nbSpinnerStatus="control" nbSpinnerSize="large" nbSpinnerMessage="" class="row">
      <nb-card-body class="full-width">
        <div>
          <p class="text-success" *ngIf="successMessage">{{successMessage}}</p>
          <p class="text-danger" *ngIf="errorMessage">{{errorMessage}}</p>
        </div>
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col">Created on</th>
              <th scope="col">Active</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody *ngIf="users">
            <tr *ngFor="let user of users; let index = index;">
              <td scope="row">{{index + 1}}</td>
              <td>{{user.contact.firstName}} {{user.contact.lastName}}</td>
              <td>{{user.contact.email}}</td>
              <td>{{user.contact.phone}}</td>
              <td>{{user.createdOnLocalTime}}</td>
              <td>{{user.isActive}}</td>
              <td>
                <a [routerLink]="['/user/update',user.id]" nbButton ghost status="warning">
                  <nb-icon icon="edit"></nb-icon>
                </a>
                <button nbButton ghost status="danger" (click)="deleteUser(user.id)">
                  <nb-icon icon="trash-2"></nb-icon>
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <p *ngIf="message">{{message}}</p>

      </nb-card-body>
    </nb-card>
  </div>
</ng-container>